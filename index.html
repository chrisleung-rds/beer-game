<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>啤酒噴發 - 無限挑戰版</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            touch-action: none;
            overflow: hidden;
            background: #0f172a;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            perspective: 1000px; /* 增加 3D 透視感 */
            -webkit-user-select: none; /* 禁止選取文字 */
            user-select: none;
        }

        /* 遊戲容器震動特效 */
        .shake-screen {
            animation: screen-shake 0.1s infinite;
        }
        @keyframes screen-shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            50% { transform: translate(-1px, -1px) rotate(0deg); }
            100% { transform: translate(1px, -1px) rotate(0deg); }
        }

        /* 瓶子動畫 */
        .bottle-container {
            position: relative;
            height: 300px;
            transition: transform 0.05s;
            z-index: 20;
            transform-style: preserve-3d;
        }

        /* 升級版噴發泡沫 - 更具液體感 */
        .foam-spray {
            position: absolute;
            bottom: 220px;
            left: 50%;
            transform: translateX(-50%);
            width: 70px; /* 加寬 */
            /* 使用徑向漸變模擬立體圓柱感 */
            background: radial-gradient(circle at 30% 30%, #ffffff, #e2e8f0 40%, rgba(255,255,255,0.4) 80%, transparent 100%);
            border-radius: 40px 40px 0 0;
            height: 0;
            transition: height 1s cubic-bezier(0.1, 0.9, 0.2, 1.1);
            z-index: 10;
            filter: blur(3px) contrast(1.2); /* 讓邊緣融合更像液體 */
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.6);
        }

        .hidden-screen { display: none !important; }

        /* 能量條與特效 */
        .tier-1 { background: #fbbf24; box-shadow: 0 0 10px #fbbf24; }
        .tier-2 { background: #f97316; box-shadow: 0 0 15px #f97316; }
        .tier-3 { background: #ef4444; box-shadow: 0 0 20px #ef4444; }
        .tier-4 { background: #a855f7; box-shadow: 0 0 25px #a855f7; }
        .tier-5 { 
            background: linear-gradient(90deg, #ef4444, #eab308, #22c55e, #3b82f6, #a855f7); 
            background-size: 200% 200%;
            animation: rainbow 1s ease infinite;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
        }

        @keyframes rainbow { 
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 升級版粒子 - 泡沫四飛 */
        .particle {
            position: absolute;
            background: radial-gradient(circle at 30% 30%, #fff, #cbd5e1);
            border-radius: 50%;
            pointer-events: none;
            z-index: 15; /* 在泡沫柱前面 */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* 衝上雲霄特效：雲層 */
        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 50%;
            filter: blur(20px);
            z-index: 1; /* 在所有物體後面 */
            pointer-events: none;
        }

        @keyframes rush-down {
            0% { transform: translateY(-10vh) scale(0.8); opacity: 0; }
            20% { opacity: 0.6; }
            100% { transform: translateY(110vh) scale(1.5); opacity: 0; }
        }

        @keyframes particle-spin {
            0% { transform: rotate(0deg) scale(1); }
            100% { transform: rotate(360deg) scale(0); }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-between h-screen p-6 bg-slate-900 overflow-hidden relative">
    
    <!-- 雲層容器 -->
    <div id="sky-container" class="absolute inset-0 w-full h-full overflow-hidden pointer-events-none"></div>

    <!-- 1. 開始畫面 -->
    <div id="start-screen" class="flex flex-col items-center justify-center flex-grow space-y-10 text-center z-50 w-full max-w-md">
        <div class="space-y-2">
            <h1 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-600 tracking-tighter filter drop-shadow-lg">無限噴射</h1>
            <p class="text-slate-400 text-lg font-medium">目標：衝上 10,000 層樓！</p>
        </div>
        
        <div class="relative group">
            <div class="absolute -inset-1 bg-gradient-to-r from-amber-600 to-purple-600 rounded-full blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse"></div>
            <div class="relative w-48 h-48 bg-slate-900 rounded-full flex items-center justify-center border-4