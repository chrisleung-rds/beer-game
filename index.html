<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å•¤é…’å™´ç™¼ - ç„¡é™æŒ‘æˆ°ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            touch-action: none;
            overflow: hidden;
            background: #0f172a;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            perspective: 1000px;
            -webkit-user-select: none;
            user-select: none;
            /* ä¿®æ­£ï¼šä½¿ç”¨å‹•æ…‹é«˜åº¦ä»¥é©æ‡‰æ‰‹æ©Ÿç€è¦½å™¨ */
            height: 100dvh; 
        }

        .shake-screen {
            animation: screen-shake 0.1s infinite;
        }
        @keyframes screen-shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            50% { transform: translate(-1px, -1px) rotate(0deg); }
            100% { transform: translate(1px, -1px) rotate(0deg); }
        }

        .bottle-container {
            position: relative;
            height: 300px;
            transition: transform 0.05s;
            z-index: 20;
            transform-style: preserve-3d;
        }

        .foam-spray {
            position: absolute;
            bottom: 220px;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            background: radial-gradient(circle at 30% 30%, #ffffff, #e2e8f0 40%, rgba(255,255,255,0.4) 80%, transparent 100%);
            border-radius: 40px 40px 0 0;
            height: 0;
            transition: height 1s cubic-bezier(0.1, 0.9, 0.2, 1.1);
            z-index: 10;
            filter: blur(3px) contrast(1.2);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.6);
        }

        .hidden-screen { display: none !important; }

        .tier-1 { background: #fbbf24; box-shadow: 0 0 10px #fbbf24; }
        .tier-2 { background: #f97316; box-shadow: 0 0 15px #f97316; }
        .tier-3 { background: #ef4444; box-shadow: 0 0 20px #ef4444; }
        .tier-4 { background: #a855f7; box-shadow: 0 0 25px #a855f7; }
        .tier-5 { 
            background: linear-gradient(90deg, #ef4444, #eab308, #22c55e, #3b82f6, #a855f7); 
            background-size: 200% 200%;
            animation: rainbow 1s ease infinite;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
        }

        @keyframes rainbow { 
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .particle {
            position: absolute;
            background: radial-gradient(circle at 30% 30%, #fff, #cbd5e1);
            border-radius: 50%;
            pointer-events: none;
            z-index: 15;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 50%;
            filter: blur(20px);
            z-index: 1;
            pointer-events: none;
        }

        @keyframes rush-down {
            0% { transform: translateY(-10vh) scale(0.8); opacity: 0; }
            20% { opacity: 0.6; }
            100% { transform: translateY(110vh) scale(1.5); opacity: 0; }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-between p-6 bg-slate-900 overflow-hidden relative">
    
    <div id="sky-container" class="absolute inset-0 w-full h-full overflow-hidden pointer-events-none"></div>

    <!-- 1. é–‹å§‹ç•«é¢ (ä¿®æ­£ï¼šä½¿ç”¨ fixed inset-0 å¼·åˆ¶è¦†è“‹å…¨å±ï¼Œé¿å…è¢«æ“ å£“) -->
    <div id="start-screen" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-900 p-6 space-y-6 text-center">
        <div class="space-y-2">
            <h1 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-600 tracking-tighter filter drop-shadow-lg">ç„¡é™å™´å°„</h1>
            <p class="text-slate-400 text-lg font-medium">ç›®æ¨™ï¼šè¡ä¸Š 10,000 å±¤æ¨“ï¼</p>
        </div>
        
        <div class="relative group">
            <div class="absolute -inset-1 bg-gradient-to-r from-amber-600 to-purple-600 rounded-full blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse"></div>
            <!-- ç¨å¾®ç¸®å°åœ–æ¨™å°ºå¯¸ä»¥é©æ‡‰å°è¢å¹• -->
            <div class="relative w-40 h-40 bg-slate-900 rounded-full flex items-center justify-center border-4 border-slate-700">
                 <span class="text-6xl">ğŸš€</span>
            </div>
        </div>

        <!-- æŒ‰éˆ• -->
        <button id="btn-start" class="group relative w-full max-w-sm py-5 bg-gradient-to-r from-amber-500 to-orange-600 rounded-2xl text-white font-black text-2xl shadow-xl transform active:scale-95 transition-all overflow-hidden cursor-pointer select-none" style="touch-action: manipulation; -webkit-tap-highlight-color: transparent;">
            <span class="relative z-10 pointer-events-none">é–‹å§‹æŒ‘æˆ°</span>
            <div class="absolute inset-0 h-full w-full bg-white/20 scale-x-0 group-hover:scale-x-100 transition-transform origin-left"></div>
        </button>
        
        <p class="text-xs text-slate-600">iOS ç”¨æˆ¶è«‹è¨˜å¾—å…è¨±å‹•ä½œæ¬Šé™</p>
    </div>

    <!-- 2. éŠæˆ²é€²è¡Œç•«é¢ -->
    <div id="game-screen" class="hidden-screen flex-grow flex flex-col items-center justify-between w-full z-50 py-4 h-full">
        
        <!-- é ‚éƒ¨æ•¸æ“š -->
        <div class="w-full flex justify-between items-center px-2">
            <div class="flex flex-col items-start">
                <span class="text-xs text-slate-400 font-bold uppercase tracking-widest">TIME</span>
                <span id="timer" class="text-6xl font-black text-white leading-none">10</span>
            </div>
            <div class="flex flex-col items-end">
                <span class="text-xs text-slate-400 font-bold uppercase tracking-widest">POWER</span>
                <span id="live-score" class="text-4xl font-black text-amber-500 tabular-nums">0</span>
            </div>
        </div>
        
        <!-- ä¸­å¤®ç“¶å­ -->
        <div class="relative w-full flex-grow flex justify-center items-end pb-8">
            <div id="foam" class="foam-spray"></div>
            
            <div id="bottle" class="bottle-container origin-bottom">
                <svg width="100" height="260" viewBox="0 0 100 260" fill="none">
                    <path d="M30,20 L70,20 L70,60 C70,60 90,90 90,130 L90,240 C90,255 80,260 65,260 L35,260 C20,260 10,255 10,240 L10,130 C10,90 30,60 30,60 Z" fill="#451a03" stroke="#78350f" stroke-width="2"/>
                    <path d="M85,130 L85,240 C85,245 80,250 75,250" stroke="rgba(255,255,255,0.2)" stroke-width="3" fill="none"/>
                    
                    <rect x="20" y="140" width="60" height="70" rx="4" fill="#f59e0b" />
                    <rect x="25" y="145" width="50" height="60" rx="2" stroke="#78350f" stroke-width="1" fill="none"/>
                    <text x="50" y="175" font-family="Arial" font-size="12" fill="#451a03" font-weight="900" text-anchor="middle">MAX</text>
                    <text x="50" y="195" font-family="Arial" font-size="14" fill="#451a03" font-weight="900" text-anchor="middle">POWER</text>
                    
                    <rect id="bottle-cap" x="28" y="10" width="44" height="15" rx="3" fill="#cbd5e1" stroke="#475569" stroke-width="2"/>
                </svg>
            </div>
        </div>

        <!-- åº•éƒ¨èƒ½é‡æ¢ -->
        <div class="w-full space-y-2 mb-safe">
            <div class="flex justify-between text-xs font-bold text-slate-400 uppercase tracking-widest">
                <span>Intensity Level</span>
                <span id="tier-text" class="text-white">NORMAL</span>
            </div>
            <div class="w-full bg-slate-800 h-6 rounded-full overflow-hidden border border-slate-600 relative">
                <div class="absolute inset-0 opacity-20 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMSIvPgo8L3N2Zz4=')]"></div>
                <div id="pressure-bar" class="h-full w-0 transition-all duration-75 tier-1"></div>
            </div>
        </div>
    </div>

    <!-- 3. çµæœç•«é¢ (ä¿®æ­£ï¼šåŒæ¨£ä½¿ç”¨ fixed inset-0) -->
    <div id="result-screen" class="hidden-screen fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-900 p-6 space-y-6 text-center">
        <div class="space-y-2">
            <h2 class="text-xl font-bold text-slate-400 uppercase tracking-widest">æœ€çµ‚é«˜åº¦</h2>
            <div class="relative inline-block">
                <div class="text-7xl font-black text-white leading-none tracking-tighter" id="final-floors">0</div>
                <div class="text-2xl font-bold text-amber-500 text-right mt-1">å±¤ (Floors)</div>
            </div>
        </div>

        <div id="rank-badge" class="px-6 py-2 bg-slate-800 rounded-lg border border-slate-600 text-lg font-bold text-white transform rotate-2">
            ...
        </div>

        <div class="w-full max-w-xs bg-slate-800/50 p-4 rounded-xl text-left space-y-3 text-sm text-slate-300 border border-slate-700">
            <div class="flex justify-between">
                <span>ä½ çš„é«˜åº¦:</span>
                <span class="text-white font-bold" id="compare-score">0m</span>
            </div>
            <div class="flex justify-between border-t border-slate-700 pt-2">
                <span>ç›¸ç•¶æ–¼:</span>
                <span class="text-amber-400 font-bold" id="compare-object">...</span>
            </div>
        </div>

        <button id="btn-restart" class="w-full max-w-xs bg-white text-slate-900 font-black py-4 rounded-full text-xl shadow-lg active:scale-95 transition-all cursor-pointer" style="touch-action: manipulation;">
            å†ä¾†ä¸€æ¬¡
        </button>
    </div>

    <script>
        // --- æ ¸å¿ƒè®Šæ•¸ ---
        let state = 'START';
        let rawScore = 0;       
        let displayFloors = 0;  
        let timeLeft = 10;
        let timerInterval;
        let shakeMultiplier = 1; 
        let lastShakeTime = 0;
        let skyInterval; 
        
        // --- é›£åº¦åƒæ•¸ ---
        const DIFFICULTY_DIVISOR = 24; // ä¹‹å‰æ˜¯ 3ï¼Œç¾åœ¨æ”¹ç‚º 24 (8å€é›£åº¦)

        // --- DOM ---
        const ui = {
            start: document.getElementById('start-screen'),
            game: document.getElementById('game-screen'),
            result: document.getElementById('result-screen'),
            timer: document.getElementById('timer'),
            liveScore: document.getElementById('live-score'),
            bar: document.getElementById('pressure-bar'),
            tierText: document.getElementById('tier-text'),
            bottle: document.getElementById('bottle'),
            cap: document.getElementById('bottle-cap'),
            foam: document.getElementById('foam'),
            finalFloors: document.getElementById('final-floors'),
            rankBadge: document.getElementById('rank-badge'),
            compareScore: document.getElementById('compare-score'),
            compareObject: document.getElementById('compare-object'),
            skyContainer: document.getElementById('sky-container')
        };

        if (location.protocol !== 'https:' && location.hostname !== 'localhost' && location.hostname !== '127.0.0.1') {
            alert("è«‹ä½¿ç”¨ HTTPS é€£ç·šï¼Œå¦å‰‡æ„Ÿæ‡‰å™¨ç„¡æ³•é‹ä½œï¼");
        }

        document.getElementById('btn-start').addEventListener('click', async (e) => {
            if (typeof DeviceMotionEvent !== 'undefined' && typeof DeviceMotionEvent.requestPermission === 'function') {
                try {
                    const res = await DeviceMotionEvent.requestPermission();
                    if (res === 'granted') startGame();
                    else alert('è«‹å…è¨±å‹•ä½œæ¬Šé™ä»¥é€²è¡ŒéŠæˆ²');
                } catch (e) { 
                    console.error(e);
                    startGame(); 
                }
            } else {
                startGame();
            }
        });

        document.getElementById('btn-restart').addEventListener('click', () => {
            resetGame();
            startGame();
        });

        function startGame() {
            state = 'PLAYING';
            rawScore = 0;
            timeLeft = 10;
            shakeMultiplier = 1;
            
            ui.start.classList.add('hidden-screen');
            ui.result.classList.add('hidden-screen');
            ui.game.classList.remove('hidden-screen');
            
            ui.timer.innerText = timeLeft;
            ui.bottle.classList.add('shake-screen'); 
            
            window.addEventListener('devicemotion', handleMotion);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                ui.timer.innerText = timeLeft;
                
                if(timeLeft <= 3) {
                    ui.timer.classList.add('text-red-500', 'scale-110');
                }

                if (timeLeft <= 0) endGame();
            }, 1000);
        }

        function handleMotion(event) {
            if (state !== 'PLAYING') return;

            const acc = event.acceleration || event.accelerationIncludingGravity;
            if (!acc) return;

            const x = acc.x || 0;
            const y = acc.y || 0;
            const z = acc.z || 0;
            
            let force = Math.sqrt(x*x + y*y + z*z);
            
            if (force > 5) {
                const now = Date.now();
                if (now - lastShakeTime < 150) {
                    shakeMultiplier = Math.min(shakeMultiplier + 0.05, 3.0); 
                } else {
                    shakeMultiplier = Math.max(1.0, shakeMultiplier - 0.1);
                }
                lastShakeTime = now;

                const points = Math.pow(force, 1.3) * shakeMultiplier * 0.5;
                
                rawScore += points;
                updateGameUI(force);
            }
        }

        function updateGameUI(currentForce) {
            // ä½¿ç”¨æ–°çš„é›£åº¦ä¿‚æ•¸è¨ˆç®—é¡¯ç¤ºæ¨“å±¤
            const floors = Math.floor(rawScore / DIFFICULTY_DIVISOR);
            ui.liveScore.innerText = floors;

            const shakeX = (Math.random() - 0.5) * currentForce;
            const shakeY = (Math.random() - 0.5) * currentForce;
            const rotate = (Math.random() - 0.5) * (currentForce / 2);
            ui.bottle.style.transform = `translate(${shakeX}px, ${shakeY}px) rotate(${rotate}deg)`;

            const tierBase = 2000;
            const currentTier = Math.floor(rawScore / tierBase); 
            const progress = (rawScore % tierBase) / tierBase * 100;

            ui.bar.style.width = `${progress}%`;
            ui.bar.className = 'h-full w-0 transition-all duration-75'; 
            
            if (currentTier === 0) {
                ui.bar.classList.add('tier-1');
                ui.tierText.innerText = "WARMING UP";
                ui.tierText.style.color = "#fbbf24";
            } else if (currentTier === 1) {
                ui.bar.classList.add('tier-2');
                ui.tierText.innerText = "HEATING UP!";
                ui.tierText.style.color = "#f97316";
            } else if (currentTier === 2) {
                ui.bar.classList.add('tier-3');
                ui.tierText.innerText = "ON FIRE!!";
                ui.tierText.style.color = "#ef4444";
            } else if (currentTier === 3) {
                ui.bar.classList.add('tier-4');
                ui.tierText.innerText = "SUPER CHARGED!!!";
                ui.tierText.style.color = "#a855f7";
            } else {
                ui.bar.classList.add('tier-5'); 
                ui.tierText.innerText = "GOD MODE ğŸš€";
                ui.tierText.style.color = "#22c55e";
            }
        }

        function endGame() {
            state = 'ANIMATING';
            clearInterval(timerInterval);
            window.removeEventListener('devicemotion', handleMotion);
            ui.bottle.style.transform = 'none'; // å…ˆå¾©ä½ä»¥å‚™ç™¼å°„

            const finalScore = Math.floor(rawScore / DIFFICULTY_DIVISOR);
            playPopAnimation(finalScore);
        }

        function playPopAnimation(floors) {
            // ç“¶è“‹é£›èµ°
            ui.cap.style.transition = 'transform 0.4s ease-out, opacity 0.3s';
            ui.cap.style.transform = `translateY(-600px) rotate(${1000 + Math.random()*500}deg)`;
            ui.cap.style.opacity = '0';
            
            // ç“¶èº«å‘ä¸‹æ‰è½ (æ¨¡æ“¬é¡é ­æ€¥é€Ÿä¸Šå‡)
            ui.bottle.style.transition = 'transform 2s ease-in'; // æ…¢é€²å¿«å‡ºï¼Œæ¨¡æ“¬é‡åŠ›æˆ–åå‘åŠ é€Ÿ
            ui.bottle.style.transform = 'translateY(150vh)';     // æ‰è½åˆ°ç•«é¢å¤–

            const visualHeight = Math.min(Math.log10(floors + 1) * 200, 450); 
            ui.foam.style.height = `${visualHeight}px`;

            // å› ç‚ºé›£åº¦å¢åŠ ï¼Œé™ä½è§¸ç™¼ SkyRush çš„é–€æª» (è®“è¦–è¦ºæ•ˆæœä¾ç„¶å®¹æ˜“å‡ºç¾ï¼Œä½†åˆ†æ•¸å¾ˆé›£æ‹¿)
            if (floors > 10) { 
                triggerSkyRush(floors);
            }

            createParticles(visualHeight, floors);

            setTimeout(() => showResults(floors), 3500); 
        }

        function triggerSkyRush(floors) {
            const density = Math.min(floors / 50, 30); // èª¿æ•´é›²å±¤å¯†åº¦
            // å³ä½¿åˆ†æ•¸ä½ï¼Œä¹Ÿè¦æœ‰é»é€Ÿåº¦æ„Ÿ
            const baseSpeed = Math.max(0.1, 0.8 - (floors / 1000)); 
            
            document.body.style.transition = 'background 3s ease';
            if (floors > 500) document.body.style.background = '#020617'; 

            skyInterval = setInterval(() => {
                const cloud = document.createElement('div');
                cloud.classList.add('cloud');
                
                const size = 50 + Math.random() * 200;
                cloud.style.width = size + 'px';
                cloud.style.height = size + 'px';
                cloud.style.left = Math.random() * 100 + '%';
                cloud.style.top = '-200px';
                cloud.style.opacity = 0.1 + Math.random() * 0.3;
                
                const duration = baseSpeed + Math.random() * 0.5;
                cloud.style.animation = `rush-down ${duration}s linear forwards`;
                
                ui.skyContainer.appendChild(cloud);
                
                setTimeout(() => cloud.remove(), duration * 1000);
            }, 80 - density * 2);

            setTimeout(() => {
                clearInterval(skyInterval);
                document.body.style.background = '#0f172a';
            }, 3000);
        }

        function createParticles(height, floors) {
            const count = Math.min(80 + Math.floor(floors / 10), 300); // èª¿æ•´ç²’å­æ•¸é‡
            const container = ui.game;
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const p = document.createElement('div');
                    p.className = 'particle';
                    const size = Math.random() * 12 + 4; 
                    p.style.width = size + 'px';
                    p.style.height = size + 'px';
                    p.style.left = '50%';
                    // ç²’å­ç”Ÿæˆä½ç½®å› ç‚ºç“¶å­æ‰ä¸‹å»äº†ï¼Œæ‰€ä»¥è¦è¨­å®šå¾—ä½ä¸€é»ï¼Œè®“å®ƒå€‘å¾ä¸‹æ–¹è¡ä¸Šä¾†
                    p.style.bottom = (0 + Math.random() * 100) + 'px'; 
                    
                    const angle = (Math.random() - 0.5) * 1.5; 
                    const velocity = 500 + Math.random() * 400; // å¢åŠ é€Ÿåº¦
                    const tx = Math.sin(angle) * velocity;
                    const ty = -Math.cos(angle) * (velocity + height + 500); // è¡å¾—æ›´é«˜
                    
                    container.appendChild(p);
                    
                    p.animate([
                        { transform: `translate(0, 0) scale(1) rotate(0deg)`, opacity: 1 },
                        { transform: `translate(${tx}px, ${ty}px) scale(0) rotate(${Math.random()*360}deg)`, opacity: 0 }
                    ], {
                        duration: 800 + Math.random() * 1200,
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                        fill: 'forwards'
                    });
                    
                    setTimeout(() => p.remove(), 2000);
                }, i * 5); 
            }
        }

        function showResults(floors) {
            state = 'RESULT';
            ui.game.classList.add('hidden-screen');
            ui.result.classList.remove('hidden-screen');
            
            animateValue(ui.finalFloors, 0, floors, 1500);

            let rankText = "";
            let rankColor = "";
            let compareObj = "";
            let meters = floors * 3;

            // æ›´æ–°è©•ç´šé–€æª»ä»¥é…åˆ 8 å€é›£åº¦
            if (floors < 20) {
                rankText = "ç¼ºä¹é›éŠ ğŸ¥±";
                rankColor = "text-gray-400";
                compareObj = "è·¯é‚Šé›»ç·šæ¡¿";
            } else if (floors < 100) {
                rankText = "æ™®é€šå¤§å»ˆ ğŸ¢";
                rankColor = "text-yellow-400";
                compareObj = "ä½å®…å¤§æ¨“";
            } else if (floors < 300) {
                rankText = "æ‘©å¤©å¤§æ¨“ ğŸŒ†";
                rankColor = "text-orange-400";
                compareObj = "å°åŒ—101 / IFC";
            } else if (floors < 800) {
                rankText = "é«˜è³å…¥é›² â˜ï¸";
                rankColor = "text-red-400";
                compareObj = "è–æ¯å³°";
            } else if (floors < 2000) {
                rankText = "å¹³æµå±¤ âœˆï¸";
                rankColor = "text-purple-400";
                compareObj = "æ°‘èˆªæ©Ÿé£›è¡Œé«˜åº¦";
            } else if (floors < 5000) {
                rankText = "å¤–å¤ªç©ºé‚Šç·£ ğŸ›°ï¸";
                rankColor = "text-blue-400";
                compareObj = "ä½è»Œé“è¡›æ˜Ÿ";
            } else {
                rankText = "è¡å‡ºéŠ€æ²³ç³» ğŸŒŒ";
                rankColor = "text-green-400";
                compareObj = "åœ‹éš›å¤ªç©ºç«™ (ISS)";
            }

            ui.rankBadge.innerText = rankText;
            ui.rankBadge.className = `px-6 py-2 bg-slate-800 rounded-lg border border-slate-600 text-lg font-bold transform rotate-2 ${rankColor}`;
            ui.compareScore.innerText = `${meters.toLocaleString()} å…¬å°º`;
            ui.compareObject.innerText = compareObj;
        }

        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerHTML = Math.floor(progress * (end - start) + start).toLocaleString();
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        function resetGame() {
            rawScore = 0;
            ui.timer.classList.remove('text-red-500', 'scale-110');
            ui.bar.style.width = '0%';
            ui.bar.className = 'h-full w-0 tier-1';
            ui.tierText.innerText = "NORMAL";
            ui.tierText.style.color = "white";
            
            // é‡ç½®ç“¶å­ä½ç½®å’Œå‹•ç•«
            ui.bottle.style.transition = 'none'; // ç§»é™¤æ‰è½å‹•ç•«çš„ transition
            ui.bottle.style.transform = 'none'; // å¾©ä½ç“¶å­
            
            ui.cap.style.transition = 'none';
            ui.cap.style.transform = 'none';
            ui.cap.style.opacity = '1';
            
            ui.foam.style.height = '0';
            ui.liveScore.innerText = '0';
            ui.skyContainer.innerHTML = ''; 
            clearInterval(skyInterval);
            document.body.style.background = '#0f172a';
        }
    </script>
</body>
</html>